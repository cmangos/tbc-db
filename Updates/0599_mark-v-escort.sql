-- Quest Mark V is Alive! rework

SET @SGGUID := 28106; -- spawn_groups
SET @OGUID := 157101;


DELETE FROM gameobject WHERE id = 183771;
DELETE FROM gameobject WHERE guid BETWEEN @OGUID+1 AND @OGUID+3;
INSERT INTO gameobject(guid, id, map, spawnMask, position_x, position_y, position_z, orientation, rotation0, rotation1, rotation2, rotation3, spawntimesecsmin, spawntimesecsmax) VALUES
(@OGUID+1, 183771, 530, 1, 3450.944091796875, 3699.927978515625, 148.1732940673828125, 0.994837164878845214, 0, 0, 0.477158546447753906, 0.878817260265350341, 65, 65),
(@OGUID+2, 183771, 530, 1, 3415.23828125, 3612.20361328125, 141.1843109130859375, 0.593410074710845947, 0, 0, 0.292370796203613281, 0.95630502700805664, 65, 65),
(@OGUID+3, 183771, 530, 1, 3483.82421875, 3585.15771484375, 160.653900146484375, 0.104719325900077819, 0, 0, 0.052335739135742187, 0.998629570007324218, 65, 65);


DELETE FROM spawn_group WHERE Id = @SGGUID+1;
INSERT INTO `spawn_group` (`Id`, `Name`, `Type`, `MaxCount`, `WorldState`, `Flags`, `StringId`) VALUES
(@SGGUID+1, 'Netherstorm - Quest:Mark V is Alive! - GameObjects', 1, 0, 0, 0, 0);

DELETE FROM spawn_group_spawn WHERE Id = @SGGUID+1;
INSERT INTO `spawn_group_spawn` (`Id`, `Guid`, `SlotId`, `Chance`) VALUES
(@SGGUID+1, @OGUID+1, -1, 0), -- Draenei Machine
(@SGGUID+1, @OGUID+2, -1, 0), -- Draenei Machine
(@SGGUID+1, @OGUID+3, -1, 0); -- Draenei Machine


DELETE FROM waypoint_path_name WHERE PathId = 19589;
INSERT INTO `waypoint_path_name` (`PathId`, `Name`) VALUES 
(19589, 'Netherstorm - Maxx A. Million Mk. V - Quest: Mark V is Alive!');

DELETE FROM waypoint_path WHERE `PathId` = 19589;
INSERT INTO `waypoint_path` (`PathId`, `Point`, `PositionX`, `PositionY`, `PositionZ`, `Orientation`, `WaitTime`, `ScriptId`) VALUES 
(19589, 1, 3359.1367,3727.0369,141.27678, 100, 1000, 0),
(19589, 2, 3359.1367,3727.0369,141.27678,5.427973747253417968, 16000, 1958901),
(19589, 3, 3367.8076,3717.3506,141.94441, 100, 0, 0),
(19589, 4, 3382.1233,3706.8733,143.95927, 100, 0, 0),
(19589, 5, 3395.152,3699.9636,144.80193, 100, 0, 0),
(19589, 6, 3416.6812,3692.175,146.39612, 100, 0, 0),
(19589, 7, 3416.6812,3692.175,146.39612, 100, 0, 0),
(19589, 8, 3426.3203,3688.7634,147.2728, 100, 0, 0),
(19589, 9, 3436.0442,3688.4292,148.31816, 100, 0, 0),
(19589, 10, 3444.4226,3690.625,148.5416, 100, 0, 0),
(19589, 11, 3449.8354,3698.202,148.54553, 100, 10000, 1958902),
(19589, 12, 3443.9067,3688.9988,148.72136, 100, 0, 0),
(19589, 13, 3447.0007,3679.9329,149.535, 100, 0, 0),
(19589, 14, 3458.2253,3668.8042,150.95401, 100, 0, 0),
(19589, 15, 3460.2551,3662.6663,151.88629, 100, 0, 0),
(19589, 16, 3468.2898,3652.0786,152.88281, 100, 0, 0),
(19589, 17, 3475.7761,3636.856,157.80258, 100, 0, 0),
(19589, 18, 3481.9407,3619.7324,158.73804, 100, 0, 0),
(19589, 19, 3491.5461,3609.4048,156.86696, 100, 0, 0),
(19589, 20, 3494.1125,3602.1304,156.16042, 100, 0, 0),
(19589, 21, 3493.636,3592.5334,156.56844, 100, 0, 0),
(19589, 22, 3489.4954,3587.5244,158.1519, 100, 0, 0),
(19589, 23, 3485.48,3585.8596,159.85602, 100, 10000, 1958902),
(19589, 24, 3491.5364,3588.543,157.32298, 100, 0, 0),
(19589, 25, 3494.4585,3598.1965,156.15933, 100, 0, 0),
(19589, 26, 3493.904,3606.8093,156.00174, 100, 0, 0),
(19589, 27, 3503.589,3604.8425,152.94879, 100, 0, 0),
(19589, 28, 3510.9387,3602.3528,150.52621, 100, 0, 0),
(19589, 29, 3524.022,3590.4653,144.80522, 100, 0, 0),
(19589, 30, 3545.392,3573.5942,130.66348, 100, 0, 0),
(19589, 31, 3551.0046,3575.759,127.954285, 100, 0, 0),
(19589, 32, 3552.6418,3586.1338,127.66843, 100, 0, 0),
(19589, 33, 3552.156,3596.2166,128.31383, 100, 0, 0),
(19589, 34, 3551.6995,3607.6929,129.03865, 100, 0, 0),
(19589, 35, 3545.9917,3624.6438,126.037094, 100, 0, 0),
(19589, 36, 3534.0278,3639.8567,126.03734, 100, 0, 0),
(19589, 37, 3520.8987,3647.3442,133.086, 100, 0, 0),
(19589, 38, 3506.709,3646.6785,138.37378, 100, 0, 0),
(19589, 39, 3494.1519,3646.3164,137.8534, 100, 0, 0),
(19589, 40, 3481.0356,3642.596,138.16911, 100, 0, 0),
(19589, 41, 3469.9834,3632.9746,140.6743, 100, 0, 0),
(19589, 42, 3453.1953,3623.2078,140.66364, 100, 0, 0),
(19589, 43, 3439.0776,3614.2207,140.68156, 100, 0, 0),
(19589, 44, 3422.6848,3615.1458,140.77182, 100, 0, 0),
(19589, 45, 3417.9766,3613.3586,141.12209, 100, 10000, 1958902),
(19589, 46, 3412.4265,3623.5073,143.12662, 100, 0, 0),
(19589, 47, 3405.9067,3634.6555,144.41191, 100, 0, 0),
(19589, 48, 3393.9126,3645.7644,144.465, 100, 0, 0),
(19589, 49, 3382.2075,3657.789,144.3754, 100, 0, 0),
(19589, 50, 3375.3716,3674.5012,145.07877, 100, 0, 0),
(19589, 51, 3379.346,3679.9385,146.59613, 100, 0, 0),
(19589, 52, 3387.619,3684.4788,146.94794, 100, 0, 0),
(19589, 53, 3391.6418,3696.8203,145.15489, 100, 0, 0),
(19589, 54, 3384.7234,3705.6003,144.14267, 100, 0, 0),
(19589, 55, 3371.9343,3714.3403,142.431, 100, 0, 0),
(19589, 56, 3361.9148,3722.8782,141.49617, 100, 0, 0),
(19589, 57, 3351.6047,3722.5051,141.32507, 100, 1000, 0),
(19589, 58, 3351.6047,3722.5051,141.32507,0.628318548202514648, 1000, 1958903);


DELETE FROM dbscripts_on_creature_movement WHERE id IN (1958901, 1958902, 1958903);
INSERT INTO `dbscripts_on_creature_movement` (`id`, `delay`, `priority`, `command`, `datalong`, `datalong2`, `datalong3`, `buddy_entry`, `search_radius`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `comments`) VALUES
-- Maxx A. Million Mk. V StartRP
(1958901, 0, 0, 0, 0, 0, 0, 0, 0, 0, 19481, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Maxx A. Million Mk. V - Say Text'),
(1958901, 0, 1, 36, 0, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Face Maxx A. Million Mk. V'),
(1958901, 0, 2, 1, 0, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Remove EmoteState'),
(1958901, 3000, 0, 1, 1, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Emote Talk'),
(1958901, 3000, 1, 0, 0, 0, 0, 19578, 10, 0, 17003, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Say Text'),
(1958901, 15000, 0, 36, 1, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Reset Orientation'),
(1958901, 15000, 1, 1, 133, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - EmoteState StateuseStandingNoSheath'),
-- Maxx A. Million Mk. V Activating Objects
(1958902, 0, 0, 1, 35, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Maxx A. Million Mk. V - Emote OneShotAttackUnarmed'),
(1958902, 2000, 0, 13, 0, 0, 0, 183771, 10, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Maxx A. Million Mk. V - Activate Gameojbect'),
(1958902, 10000, 0, 0, 0, 0, 0, 0, 0, 0, 19484, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Maxx A. Million Mk. V - Say Text'),
-- Maxx A. Million Mk. V EndRP
(1958903, 1000, 0, 36, 0, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Face Maxx A. Million Mk. V'),
(1958903, 1000, 1, 1, 0, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Remove EmoteState'),
(1958903, 2000, 0, 1, 4, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Emote OneShotCheer'),
(1958903, 3000, 1, 0, 0, 0, 0, 19578, 10, 0, 17014, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Say Text'),
(1958903, 15000, 0, 36, 1, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - Reset Orientation'),
(1958903, 15000, 1, 1, 133, 0, 0, 19578, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Netherstorm - Bot-Specialist Alley - EmoteState StateuseStandingNoSheath');